(this["webpackJsonpchef-hero"]=this["webpackJsonpchef-hero"]||[]).push([[0],{25:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(17),s=n.n(i),l=n(13),o=n(10),d=(n(38),n.p+"static/media/logo.b258f186.svg"),u=n(19),j=n(4),b=n(3),O=n(12),h=(n(39),n(1)),f=function(e){switch(e){case"ascending":return Object(h.jsx)("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"});case"descending":return Object(h.jsx)("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"});case"check":return Object(h.jsx)("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"});case"close":return Object(h.jsx)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"});default:return null}},p=function(e){var t=e.iconName,n=e.active,r=void 0!==n&&n,c=e.size,a=void 0===c?16:c,i=e.fill,s=e.onClick;return Object(h.jsx)("svg",{className:"icon",onClick:s,style:{height:a,width:a},fill:r?"blue":i,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:f(t)})},g=n(22),v=n(21),x=n.n(v),m=(n(41),["iconName","blue","purple","rounded","children"]),N=function(e){var t=e.iconName,n=e.blue,r=e.purple,c=e.rounded,a=e.children,i=Object(g.a)(e,m),s=x()("button",{"btn-icon":t},{rounded:c},{blue:n},{purple:r});return Object(h.jsxs)("button",Object(b.a)(Object(b.a)({},i),{},{className:s,children:[t&&Object(h.jsx)(p,{iconName:t}),a]}))},y=(n(42),["children","onChange"]),w=function(e){var t=e.children,n=e.onChange,r=Object(g.a)(e,y);return Object(h.jsx)("select",Object(b.a)(Object(b.a)({className:"select",onChange:n},r),{},{children:t}))},k=(n(25),function(e){var t=e.items,n=e.renderHead,r=e.renderRow;return Object(h.jsxs)("table",{className:"__dml_table",cellSpacing:0,cellPadding:0,children:[Object(h.jsx)("thead",{children:n()}),Object(h.jsx)("tbody",{children:t.map((function(e){return r(e)}))})]})}),C=n(9),B=function(e){var t=e.sortedBy,n=e.sort,r=e.label,c=function(e){n.changer((function(t){return Object(b.a)(Object(b.a)({},t),{},{sortedBy:Object(C.a)({},n.key,e)})}))};return Object(h.jsx)("th",{children:Object(h.jsxs)("div",{className:"flex-container",children:[Object(h.jsx)("div",{className:"flex-label",children:r.toUpperCase()}),n?Object(h.jsx)("div",{children:t&&"ascending"===t[n.key]?Object(h.jsx)(p,{iconName:"ascending",active:t&&"ascending"===t[n.key],onClick:function(){return c("descending")}}):Object(h.jsx)(p,{iconName:"descending",active:t&&"descending"===t[n.key],onClick:function(){return c("ascending")}})}):null]})})},S=function(e){var t=e.page,n=e.selectedLimit,r=e.limits,c=e.total,a=e.onPrev,i=e.onNext,s=e.onLimitChange,l=Math.ceil(c/n);return console.log(c,n,l),Object(h.jsxs)("div",{className:"paginate-wrapper",children:[Object(h.jsxs)("div",{className:"paginator",children:[Object(h.jsx)(N,{blue:!0,rounded:!0,disabled:t<=1,onClick:a,children:"Previous"}),Object(h.jsxs)("span",{className:"pagination-label",children:["Showing page ",t," of ",l]}),Object(h.jsx)(N,{blue:!0,rounded:!0,disabled:t>=l,onClick:i,children:"Next"})]}),Object(h.jsxs)("div",{className:"paginate-limit",children:[Object(h.jsx)("span",{children:"Rows:"}),Object(h.jsx)(w,{onChange:function(e){return s(e.target.value)},children:r.map((function(e){return Object(h.jsx)("option",{value:e,selected:e===n,children:e},e)}))})]})]})},P=n(30),M=(n(43),function(e){var t=e.value,n=e.rounded,r=e.green,c=e.dark,a=e.purple,i=e.yellow,s=e.boldText,l=void 0===s||s,o=e.uppercase,d=void 0===o||o,u=e.onRemove,j=x()("badge-span",{rounded:n},{yellow:i},{green:r},{dark:c},{purple:a},{"bold-text":l},{uppercase:d});return Object(h.jsxs)("span",{className:j,children:[Object(h.jsx)("span",{className:"badge-text",children:t}),u&&Object(h.jsx)(p,{iconName:"close",onClick:function(){u(t)}})]})}),L=(n(44),function(e){var t=e.label,n=e.items,r=e.onSelectChange,a=e.onReset,i=Object(c.useState)([]),s=Object(O.a)(i,2),l=s[0],o=s[1];Object(c.useEffect)((function(){l.length?r(l):a()}),[l]);var d=function(e){var t=l.filter((function(t){return t!==e}));o(t)};return Object(h.jsxs)("div",{className:"select-wrapper",children:[Object(h.jsxs)("div",{className:"selected-options",children:[Object(h.jsx)("div",{className:"select-label",children:t}),Object(h.jsx)("div",{className:"selected-badges",children:l.map((function(e){return Object(h.jsx)(M,{uppercase:!1,boldText:!1,value:e,onRemove:d},e)}))})]}),Object(h.jsxs)("div",{className:"filter-wrapper",children:[Object(h.jsxs)(w,{onChange:function(e){o((function(t){var n;return[].concat(Object(P.a)(t),[null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value])}))},children:[Object(h.jsx)("option",{selected:!l.length,disabled:!0,children:"All Suppliers"},"all"),n.map((function(e){return Object(h.jsx)("option",{children:e},e)}))]}),Object(h.jsx)(N,{iconName:"close",onClick:function(){o([])},children:"Reset Filters"})]})]})}),z=n(16),R=n.n(z),D=n(26),H="http://localhost:4001/orders",E=function(e,t){return fetch("".concat(H,"?_page=").concat(e,"&_limit=").concat(t))},T=Object(l.b)("fetchAllOrdersStatus",Object(D.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))),A=Object(l.b)("fetchPaginatedOrdersStatus",function(){var e=Object(D.a)(R.a.mark((function e(t){var n,r,c,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,r=t.limit,e.next=3,E(n,r);case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",{count:c.headers.get("X-Total-Count"),result:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(l.c)({name:"orders",initialState:{allOrders:{loading:!1,error:null,data:[]},paginatedOrders:{loading:!1,error:null,total:0,data:[]}},reducers:{},extraReducers:(r={},Object(C.a)(r,A.pending,(function(e,t){e.paginatedOrders.loading=!0})),Object(C.a)(r,A.fulfilled,(function(e,t){e.paginatedOrders.loading=!1;var n=t.payload,r=n.count,c=n.result;e.paginatedOrders.data=c,e.paginatedOrders.total=Number.parseInt(r)})),Object(C.a)(r,A.rejected,(function(e,t){e.paginatedOrders.loading=!1,e.paginatedOrders.error=t.payload.result})),Object(C.a)(r,T.pending,(function(e,t){e.allOrders.loading=!0})),Object(C.a)(r,T.fulfilled,(function(e,t){e.allOrders.loading=!1,e.allOrders.data=t.payload})),Object(C.a)(r,T.rejected,(function(e,t){e.allOrders.loading=!1,e.allOrders.error=t.payload})),r)}).reducer,Y=n(29),_=n.n(Y),I=function(e){var t=e.items,n=e.sortedBy,r=e.stateChanger,c=function(e){switch(e.toLowerCase()){case"delivered":return Object(h.jsx)(M,{rounded:!0,purple:!0,value:e});case"in shopping cart":return Object(h.jsx)(M,{rounded:!0,green:!0,value:e});default:return Object(h.jsx)(M,{rounded:!0,dark:!0,value:e})}};return Object(h.jsx)(k,{items:t,renderHead:function(){return Object(h.jsxs)("tr",{className:"header-row",children:[Object(h.jsx)(B,{label:"Status",sortedBy:n,sort:{key:"orderBuyerStatus",changer:r}},"orderBuyerStatus"),Object(h.jsx)(B,{label:"Delivery Day",sortedBy:n,sort:{key:"deliveryDay",changer:r}},"deliveryDay"),Object(h.jsx)(B,{label:"Supplier",sortedBy:n,sort:{key:"vendorName",changer:r}},"vendorName"),Object(h.jsx)(B,{label:"Total",sortedBy:n,sort:{key:"total",changer:r}},"total")]})},renderRow:function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:c(e.orderBuyerStatus)}),Object(h.jsx)("td",{children:(r=e.deliveryDay,r&&_()(new Date(r)).format("MMM DD, YYYY"))}),Object(h.jsxs)("td",{children:[Object(h.jsx)("span",{className:"cell-padding-right",children:e.vendorName}),(n=!e.isBYOS,n&&Object(h.jsx)(M,{dark:!0,value:"MARKET"})),(t=e.isPendingVendorOnboarding,t&&Object(h.jsx)(M,{uppercase:!1,yellow:!0,rounded:!0,value:"1st"}))]}),Object(h.jsx)("td",{children:"$".concat(e.total)})]},e.id);var t,n,r}})},V=(n(47),function(){var e=Object(j.f)(),t=Object(o.b)(),n=Object(o.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.orders)||void 0===t||null===(n=t.allOrders)||void 0===n?void 0:n.data})),r=Object(c.useState)({data:[],sortedBy:{vendorName:"ascending"}}),a=Object(O.a)(r,2),i=a[0],s=a[1];Object(c.useEffect)((function(){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{data:n.slice()})}))}),[n]),Object(c.useEffect)((function(){t(T())}),[t]),Object(c.useEffect)((function(){if(i.sortedBy){var e=Object.keys(i.sortedBy)[0],t=i.sortedBy[e];s((function(n){return Object(b.a)(Object(b.a)({},n),{},{data:n.data.sort((function(n,r,c){return console.log(i.data[c],t),"ascending"===t?n[e]>r[e]:n[e]<r[e]}))})}))}}),[i.sortedBy]);return Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsxs)("div",{className:"form-control",children:[Object(h.jsx)(L,{label:"Suppliers:",items:n.map((function(e){return e.vendorName.trim()})).filter((function(e,t,n){return n.indexOf(e)===t})),onSelectChange:function(e){e.length&&s((function(t){return Object(b.a)(Object(b.a)({},t),{},{data:n.filter((function(t){return e.includes(t.vendorName.trim())}))})}))},onReset:function(){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{data:n})}))}}),Object(h.jsx)("div",{className:"route-button-wrapper",children:Object(h.jsx)(N,{rounded:!0,purple:!0,onClick:function(){return e.push("/paginate")},children:"Go to Pagination view"})})]}),Object(h.jsx)(I,{items:i.data,sortedBy:i.sortedBy,stateChanger:s})]})}),J=[5,10,12,15],G=function(){var e=Object(j.f)(),t=Object(o.b)(),n=Object(o.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.orders)||void 0===t||null===(n=t.paginatedOrders)||void 0===n?void 0:n.data})),r=Object(o.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.orders)||void 0===t||null===(n=t.paginatedOrders)||void 0===n?void 0:n.total})),a=Object(c.useState)({currentPage:1,limit:10}),i=Object(O.a)(a,2),s=i[0],l=i[1];Object(c.useEffect)((function(){var e=s.currentPage,n=s.limit;t(A({page:e,limit:n}))}),[t,s]);return Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)("div",{className:"form-control",children:Object(h.jsx)("div",{className:"route-button-wrapper",children:Object(h.jsx)(N,{rounded:!0,purple:!0,onClick:function(){return e.push("/")},children:"Return to Filters view"})})}),Object(h.jsx)(I,{items:n}),Object(h.jsx)(S,{page:s.currentPage,limits:J,selectedLimit:s.limit,total:r,onPrev:function(){l((function(e){return Object(b.a)(Object(b.a)({},e),{},{currentPage:e.currentPage-1})}))},onNext:function(){l((function(e){return Object(b.a)(Object(b.a)({},e),{},{currentPage:e.currentPage+1})}))},onLimitChange:function(e){l({limit:e,currentPage:1})}})]})},K=(n(50),function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)("img",{src:d,className:"App-logo",alt:"logo"})}),Object(h.jsx)("div",{className:"App-section",children:Object(h.jsx)(u.a,{children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/",children:Object(h.jsx)(V,{})}),Object(h.jsx)(j.a,{path:"/paginate",children:Object(h.jsx)(G,{})})]})})})]})}),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},X={orders:F},$=Object(l.a)({reducer:X});s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(o.a,{store:$,children:Object(h.jsx)(K,{})})}),document.getElementById("root")),U()}},[[51,1,2]]]);
//# sourceMappingURL=main.65bbabd0.chunk.js.map